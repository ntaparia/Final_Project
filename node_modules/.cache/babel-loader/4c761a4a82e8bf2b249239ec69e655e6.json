{"ast":null,"code":"import _objectSpread from\"/Users/saanikajoshi/IS 322/Final_Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/saanikajoshi/IS 322/Final_Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/saanikajoshi/IS 322/Final_Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/saanikajoshi/IS 322/Final_Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/saanikajoshi/IS 322/Final_Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Footer from'./Footer';import Transactions from'./Transactions';import{connect}from'react-redux';import{deleteAccount,deposit,withdraw,depositTransaction,withdrawalTransaction}from'../actions';import'./account.css';var transactionId=25;var VariablePage=/*#__PURE__*/function(_React$Component){_inherits(VariablePage,_React$Component);var _super=_createSuper(VariablePage);function VariablePage(){var _this;_classCallCheck(this,VariablePage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentPage:'/',account:[],transactions:[],editAccountName:'',transactionType:'',amount:0,accountId:0,type:\"\",name:\"\"};_this.goToHome=function(){_this.props.history.push(\"/\");};_this.goToHomeAndDelete=function(){_this.props.deleteAccount(_this.props.match.params.id);_this.props.history.push(\"/\");};_this.onEditSubmit=function(event){event.preventDefault();if(_this.state.editAccountName===''){_this.setState({editAccountName:''});}else{_this.props.editAccount(_this.state.editAccountName,_this.props.match.params.id);_this.setState({editAccountName:''});_this.props.history.push(\"/\");}};_this.onTransactionSubmit=function(event){event.preventDefault();if(_this.state.amount===0){_this.setState({amount:0});}else{if(_this.state.transactionType==='DEPOSIT'){_this.props.deposit(_this.state.amount,_this.props.match.params.id);_this.props.depositTransaction(transactionId,_this.props.match.params.id,_this.state.amount);_this.setState({amount:0});}else if(_this.state.transactionType==='WITHDRAW'){_this.props.withdraw(_this.state.amount,_this.props.match.params.id);_this.props.withdrawalTransaction(transactionId,_this.props.match.params.id,_this.state.amount);_this.setState({amount:0});}transactionId++;_this.props.history.push(\"/\");}};return _this;}_createClass(VariablePage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"getData\",value:function getData(){var _this2=this;var ID=this.props.match.params.id;axios.get('https://my-json-server.typicode.com/bnissen24/project2DB/accounts').then(function(response){_this2.setState({account:response.data[ID-1]});});axios.get('https://my-json-server.typicode.com/bnissen24/project2DB/transactions').then(function(response){var transactionArray=[];for(var i=0;i<response.data.length;i++){if(response.data[i].accountId==_this2.props.match.params.id){transactionArray.push(response.data[i]);}}_this2.setState({transactions:transactionArray});});}},{key:\"render\",value:function render(){var _this3=this;var transactions=this.state.transactions.map(function(transaction){return/*#__PURE__*/React.createElement(Transactions,{transaction:transaction});});return/*#__PURE__*/React.createElement(\"div\",{id:\"transaction\",className:\"page-variable\",style:{textAlign:'center'}},/*#__PURE__*/React.createElement(\"h2\",null,\" ID of Account: \",this.props.match.params.id),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"Name: \",this.state.account.name),/*#__PURE__*/React.createElement(\"h4\",null,\"Balance: $\",this.state.account.balance),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onTransactionSubmit},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Deposit/Withdraw Money:\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(event){return _this3.setState({amount:event.target.value});}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"butt\",class:\"btn btn-success\",onClick:function onClick(event){return _this3.setState({transactionType:\"DEPOSIT\"});}},\"Deposit\"),\"\\u2003\",/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"butt\",class:\"btn btn-danger\",onClick:function onClick(event){return _this3.setState({transactionType:\"WITHDRAW\"});}},\"Withdraw\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"button\",{id:\"butt\",onClick:this.goToHome,class:\"btn btn-primary\"},\"Return\"),\"\\u2003\",/*#__PURE__*/React.createElement(\"button\",{id:\"butt\",onClick:this.goToHomeAndDelete,class:\"btn btn-danger\"},\"Delete Account\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"container\",style:{display:\"flex\"}},transactions),/*#__PURE__*/React.createElement(Footer,null));}}]);return VariablePage;}(React.Component);var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state);};export default connect(mapStateToProps,{deleteAccount:deleteAccount,deposit:deposit,withdraw:withdraw,depositTransaction:depositTransaction,withdrawalTransaction:withdrawalTransaction})(VariablePage);","map":{"version":3,"names":["React","axios","Footer","Transactions","connect","deleteAccount","deposit","withdraw","depositTransaction","withdrawalTransaction","transactionId","VariablePage","state","currentPage","account","transactions","editAccountName","transactionType","amount","accountId","type","name","goToHome","props","history","push","goToHomeAndDelete","match","params","id","onEditSubmit","event","preventDefault","setState","editAccount","onTransactionSubmit","getData","ID","get","then","response","data","transactionArray","i","length","map","transaction","textAlign","balance","target","value","display","Component","mapStateToProps"],"sources":["/Users/saanikajoshi/IS 322/Final_Project/src/components/VariablePage.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Footer from './Footer';\nimport Transactions from './Transactions';\nimport { connect } from 'react-redux';\nimport { deleteAccount, deposit, withdraw, depositTransaction, withdrawalTransaction } from '../actions';\nimport './account.css';\nvar transactionId = 25;\n\nclass VariablePage extends React.Component {\n\n  state = {\n    currentPage: '/',\n    account: [],\n    transactions: [],\n    editAccountName: '',\n    transactionType: '',\n    amount: 0,\n    accountId: 0,\n    type: \"\",\n    name: \"\"\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    const ID = this.props.match.params.id;\n\n    axios.get('https://my-json-server.typicode.com/bnissen24/project2DB/accounts')\n      .then(response => {\n        this.setState({ account: response.data[ID - 1] });\n      });\n\n    axios.get('https://my-json-server.typicode.com/bnissen24/project2DB/transactions')\n      .then(response => {\n\n        var transactionArray = [];\n\n        for (var i = 0; i < response.data.length; i++) {\n          \n          if (response.data[i].accountId == this.props.match.params.id) {\n            transactionArray.push(response.data[i]);\n\n          }\n        }\n\n        this.setState({ transactions: transactionArray });\n\n      });\n  }\n\n  goToHome = () => {\n    this.props.history.push(`/`);\n  }\n\n  goToHomeAndDelete = () => {\n    this.props.deleteAccount(this.props.match.params.id);\n    this.props.history.push(`/`);\n  }\n\n  onEditSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.editAccountName === '') {\n      this.setState({ editAccountName: '' });\n    } else {\n      this.props.editAccount(this.state.editAccountName, this.props.match.params.id);\n      this.setState({ editAccountName: '' });\n      this.props.history.push(`/`);\n    }\n\n  }\n\n  onTransactionSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.amount === 0) {\n      this.setState({ amount: 0 });\n    } else {\n\n      if (this.state.transactionType === 'DEPOSIT') {\n        this.props.deposit(this.state.amount, this.props.match.params.id);\n        this.props.depositTransaction(transactionId, this.props.match.params.id, this.state.amount);\n        this.setState({ amount: 0 });\n      } else if (this.state.transactionType === 'WITHDRAW') {\n        this.props.withdraw(this.state.amount, this.props.match.params.id);\n        this.props.withdrawalTransaction(transactionId, this.props.match.params.id, this.state.amount);\n        this.setState({ amount: 0 });\n      }\n\n      transactionId++;\n      this.props.history.push(`/`);\n\n    }\n\n  }\n\n  render() {\n\n    const transactions = this.state.transactions.map(transaction => {\n      return (\n        <Transactions transaction={transaction} />\n      );\n    });\n\n    return (\n      <div id='transaction' className=\"page-variable\" style={{ textAlign: 'center' }}>\n        <h2> ID of Account: {this.props.match.params.id}</h2>\n        <hr></hr>\n        <h4>Name: {this.state.account.name}</h4>\n        <h4>Balance: ${this.state.account.balance}</h4>\n        <hr></hr>\n\n        <form onSubmit={this.onTransactionSubmit}>\n          <label><strong>Deposit/Withdraw Money:</strong></label><br></br>\n          <input type=\"text\" onChange={event => this.setState({ amount: event.target.value })} /><br></br>\n          <button type=\"submit\" id=\"butt\" class=\"btn btn-success\" onClick={event => this.setState({ transactionType: \"DEPOSIT\" })}>Deposit</button>\n            &emsp;\n            <button type=\"submit\" id=\"butt\" class=\"btn btn-danger\" onClick={event => this.setState({ transactionType: \"WITHDRAW\" })}>Withdraw</button>\n        </form>\n\n        <hr></hr>\n\n        <button id=\"butt\" onClick={this.goToHome} class=\"btn btn-primary\">Return</button>\n          &emsp;\n        <button id=\"butt\" onClick={this.goToHomeAndDelete} class=\"btn btn-danger\">Delete Account</button>\n\t\t\n\t\t<hr></hr>\n\t\t<div class=\"container\" style={{display:\"flex\"}}>\n\t\t{transactions}\n\t\t</div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state\n  };\n}\n\nexport default connect(mapStateToProps, { deleteAccount, deposit, withdraw, depositTransaction, withdrawalTransaction })(VariablePage);"],"mappings":"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"},"metadata":{},"sourceType":"module"}